<div class="collection-index-import">
    <!-- <mat-toolbar>
        <div class="spacer"></div>
        <button mat-button class="control" mat-dialog-close><mat-icon aria-label="close">close</mat-icon></button>
    </mat-toolbar> -->
    <mat-vertical-stepper linear>
        <mat-step label="specify index">
            <mat-form-field class="url" appearance="outline">
                <mat-label>specify a URL</mat-label>
                <input matInput [(ngModel)]="url" (keyup.enter)="url.length > 0 ? downloadIndex() : null">
                <mat-icon matSuffix>cloud_download</mat-icon>
            </mat-form-field>
            <div class="action-bar">
                <button mat-button mat-dialog-close>
                    <span class="text-label">cancel</span>
                </button>
                <button mat-raised-button color="primary" (click)="downloadIndex()" *ngIf="url.length > 0">
                    <span class="text-label">preview</span>
                </button>
            </div>
        </mat-step>
        <mat-step label="preview">
            <app-collection-index-view *ngIf="index" [config]="{
                'index': index,
                'show_title': true,
                'show_actions': false
            }"></app-collection-index-view>
            <div class="action-bar">
                <button mat-button mat-dialog-close>
                    <span class="text-label">cancel</span>
                </button>
                <button mat-raised-button color="primary" (click)="saveIndex()">
                    <span class="text-label">add</span>
                </button>
            </div>
        </mat-step>
        <mat-step label="done">
            <h3>Success!</h3>
            <p>
                The collection index has been added to your workbench. You can now configure subscriptions within the index using the collection index browser. 
                Subscribed collections will automatically update when new versions are published by the index maintainer.
            </p>
            <button mat-stroked-button mat-dialog-close>close</button>
        </mat-step>
    </mat-vertical-stepper>
</div>
